(this.webpackJsonploltimer=this.webpackJsonploltimer||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),s=n.n(r),l=n(2),o=n.n(l),i=n(3),u=n.n(i),m=n(4),f=n(1);function d(){return p.apply(this,arguments)}function p(){return(p=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ddragon.leagueoflegends.com/api/versions.json").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,d();case 6:e.t0=e.sent;case 7:return n=e.t0,e.next=10,fetch("https://ddragon.leagueoflegends.com/cdn/".concat(n,"/data/en_US/champion.json")).then((function(e){return e.json()})).then((function(e){return e.data}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,d();case 6:e.t0=e.sent;case 7:return n=e.t0,e.next=10,fetch("https://ddragon.leagueoflegends.com/cdn/".concat(n,"/data/en_US/summoner.json")).then((function(e){return e.json()})).then((function(e){return e.data}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g="https://ncblbnp19k.execute-api.us-east-1.amazonaws.com/prod";var j=Object(a.createContext)();function O(e){var t=e.children,n=Object(a.useState)(""),r=Object(f.a)(n,2),s=r[0],l=r[1],i=Object(a.useState)({}),p=Object(f.a)(i,2),h=p[0],E=p[1],O=Object(a.useState)({}),x=Object(f.a)(O,2),N=x[0],y=x[1],S=Object(a.useState)(""),k=Object(f.a)(S,2),w=k[0],I=k[1],C=Object(a.useState)([]),_=Object(f.a)(C,2),B=_[0],J=_[1],P=Object(a.useState)(null),U=Object(f.a)(P,2),W=U[0],z=U[1];return Object(a.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d().then((function(e){l(e),v(e).then((function(e){for(var t={},n=0,a=Object.values(e);n<a.length;n++){var c=a[n];t[c.key]=c}E(t)})),b(e).then((function(e){for(var t={},n=0,a=Object.values(e);n<a.length;n++){var c=a[n];t[c.key]=c}y(t)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){o.a.isEmpty(w)||function(e){return fetch("".concat(g,"/live?summonerId=").concat(e)).then((function(e){return e.json()}))}(w).then((function(e){var t=e.participants,n=e.status;if(o.a.get(n,"status_code"))return z(o.a.get(n,"message")),[];z(null);var a=t.find((function(e){return e.summonerId===w})).teamId;return t.filter((function(e){return e.teamId!==a}))})).then((function(e){return J(e)}))}),[w]),c.a.createElement(j.Provider,{value:{version:s,champions:h,spells:N,setSummonerId:I,players:B,inputError:W}},t)}var x=function(e){var t=e.id,n=Object(a.useContext)(j),r=n.version,s=n.spells,l=Object(a.useState)(!1),i=Object(f.a)(l,2),u=i[0],m=i[1],d=Object(a.useState)(-1),p=Object(f.a)(d,2),v=p[0],h=p[1],b=s[t],E=o.a.get(b,["cooldown",0]),g="https://ddragon.leagueoflegends.com/cdn/".concat(r,"/img"),O=Object(a.useCallback)((function(){h(E),m(!1)}),[E]);return Object(a.useEffect)((function(){h(E)}),[E]),Object(a.useEffect)((function(){if(u&&v>0){var e=setInterval((function(){return h(v-1)}),1e3);return function(){clearInterval(e)}}0===v&&O()}),[u,v,O]),b?c.a.createElement("div",{className:"level"},c.a.createElement("figure",{className:"image is-24x24 mr-2"},c.a.createElement("img",{className:"is-rounded",src:"".concat(g,"/spell/").concat(b.image.full),alt:"Champion Icon"})),c.a.createElement("div",{className:"level-item"},c.a.createElement("progress",{className:"progress",max:E,value:v})),c.a.createElement("span",{class:"tag ml-2"},v),c.a.createElement("button",{className:"button is-small ml-2",onClick:function(){u&&h(E),m(!u)}},u?"Stop":"Start")):c.a.createElement("progress",{className:"progress"})};var N=function(e){var t=e.index,n=Object(a.useContext)(j),r=n.players,s=n.champions,l=n.version,i="https://ddragon.leagueoflegends.com/cdn/".concat(l,"/img");if(o.a.isEmpty(r)||o.a.isEmpty(s)||o.a.isEmpty(l))return null;var u=r[t],m=s[u.championId],f=u.spell1Id,d=u.spell2Id;return c.a.createElement("div",{className:"box champion-box"},c.a.createElement("div",{className:"level"},c.a.createElement("div",{className:"level-left"},c.a.createElement("figure",{className:"image is-96x96"},c.a.createElement("img",{src:"".concat(i,"/champion/").concat(m.id,".png"),alt:"Champion Icon"})),c.a.createElement("div",{className:"title ml-4"},c.a.createElement("h1",{className:"title"},m.name),c.a.createElement("h2",{className:"subtitle is-6"},u.summonerName)))),c.a.createElement(x,{id:f}),c.a.createElement(x,{id:d}))};var y=function(){var e=Object(a.useContext)(j),t=e.setSummonerId,n=e.inputError,r=Object(a.useState)(""),s=Object(f.a)(r,2),l=s[0],i=s[1],u=Object(a.useState)(!1),m=Object(f.a)(u,2),d=m[0],p=m[1],v=Object(a.useState)({}),h=Object(f.a)(v,2),b=h[0],E=h[1],O=c.a.createElement("div",{className:"field has-addons u-justify-content-center",style:d?{}:{justifyContent:"center"}},c.a.createElement("div",{className:"control"},c.a.createElement("input",{className:"input is-small",type:"text",placeholder:"Summoner Name",value:l,onChange:function(e){i(e.target.value)}})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"button is-small",onClick:function(){var e;o.a.isEmpty(l)||(e=l,fetch("".concat(g,"/summoner?summonerName=").concat(e)).then((function(e){return e.json()}))).then((function(e){var n=e.id;E(e),t(n),p(!0)}))}},"Search")));return d?c.a.createElement("div",{className:"box champion-box"},c.a.createElement("div",{className:"level"},c.a.createElement("div",{className:"level-left"},c.a.createElement("figure",{className:"image is-96x96"},c.a.createElement("img",{className:"is-rounded",src:"https://ddragon.leagueoflegends.com/cdn/10.12.1/img/profileicon/".concat(b.profileIconId,".png"),alt:"Summoner Profile"})),c.a.createElement("div",{className:"level-item"},c.a.createElement("h1",{className:"title ml-4"},b.name),c.a.createElement("span",{className:"tag ml-2"},b.summonerLevel))),c.a.createElement("div",{className:"level-right"},O)),n?c.a.createElement("p",{className:"help is-danger"},n):null):c.a.createElement("div",{className:"box champion-box"},O)};var S=function(){return c.a.createElement(O,null,c.a.createElement("main",null,c.a.createElement("div",{className:"columns is-vcentered"},c.a.createElement("div",{className:"column"},c.a.createElement(y,null),c.a.createElement(N,{index:0}),c.a.createElement(N,{index:1})),c.a.createElement("div",{className:"column"},c.a.createElement(N,{index:2}),c.a.createElement(N,{index:3}),c.a.createElement(N,{index:4})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(15);s.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(16)}},[[7,1,2]]]);
//# sourceMappingURL=main.9cc86ae0.chunk.js.map